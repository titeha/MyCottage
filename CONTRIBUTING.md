# Правила разработки

Мы делаем коммерческий (проприетарный) продукт. Разработка ведётся маленькими и проверяемыми шагами.

## 1) Маленькие, обозримые шаги

- Каждый шаг должен давать проверяемый результат: сборка, тест, работающий экран, рабочий API-эндпоинт.
- Один коммит = одна логическая задача. Избегаем "сборных солянок".
- Если задача большая — режем на подзадачи и коммитим по частям.

## 2) Тесты

- Любые расчёты (даты, окна, климат, GDD, водный баланс) — обязательно покрывать unit-тестами.
- Любые багфиксы — по возможности добавлять тест, предотвращающий регресс.
- UI-тесты добавляем точечно, когда стабилизируются экраны (не в самом начале).

## 3) Комментарии и коммиты — на русском языке

- Комментарии в коде пишем по-русски.
- Сообщения коммитов пишем по-русски.

Формат коммитов: Conventional Commits + русский текст.

Примеры:

- feat(андроид): каркас приложения с вкладками
- feat(ядро): расчет окна сбора урожая
- test(ядро): тесты расчета GDD
- fix(андроид): исправлен крэш при добавлении посадки
- docs: обновлено ТЗ по климату и погоде
- chore: добавлены правила разработки и лицензия

## 4) Пояснения в чате

Для каждого шага:

- что меняем,
- как проверить,
- какие риски/ограничения,
- что следующим шагом.

## Ветки

Если работаем через ветки:

- feature/<кратко-по-русски-транслитом>
- fix/<...>
- chore/<...>

Если разработчик один — допустимо коммитить прямо в main, но всё равно маленькими шагами.

## Запреты

- Нельзя коммитить секреты (ключи API, токены, пароли, keystore).
- Нельзя коммитить `.env` — только `.env.example`.
- Нельзя коммитить персональные данные пользователей/фото.
